<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="generator" content="pandoc">
    <meta name="description" content="">

    <title></title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="https://maxcdn.bootstrapcdn.com/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="https://mushiyo.github.io/pandoc-toc-sidebar/css/dashboard.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style type="text/css">code{white-space: pre;}</style>
    <style type="text/css">.sidebar ul{padding-left: 10px;}</style>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          </button>
          <a class="navbar-brand" href="#">FoodForThought App Docs</a>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div id="sidebar" class="col-sm-3 col-md-2 sidebar">
          <!--<ul class="nav nav-sidebar">
            <li class="active"><a href="#">Overview <span class="sr-only">(current)</span></a></li>
          </ul>-->
          <ul>
          <li><a href="#foodforthought-app-continuation-guide">FoodForThought App Continuation Guide</a><ul>
          <li><a href="#getting-started">Getting Started</a><ul>
          <li><a href="#prerequisites">Prerequisites</a></li>
          <li><a href="#installing">Installing</a></li>
          </ul></li>
          <li><a href="#front-end-information">Front End Information</a><ul>
          <li><a href="#ionic-file-structure">Ionic file structure</a></li>
          <li><a href="#ionic-plugins">Ionic Plugins</a></li>
          <li><a href="#partially-completed-features">Partially Completed Features</a></li>
          </ul></li>
          <li><a href="#features-needing-back-end-support">Features Needing Back End Support</a><ul>
          <li><a href="#creating-notifications">Creating Notifications</a></li>
          <li><a href="#creating-locationsshifts">Creating Locations/Shifts</a></li>
          <li><a href="#checking-in-volunteers-as-admin">Checking in Volunteers as Admin</a></li>
          </ul></li>
          <li><a href="#back-end-information">Back End Information</a><ul>
          <li><a href="#installing-volunteers-for-salesforce-package-for-salesforce">Installing Volunteers for Salesforce Package For Salesforce</a></li>
          <li><a href="#configuring-volunteers-for-salesforce">Configuring Volunteers for Salesforce</a></li>
          <li><a href="#mass-emailing-volunteers-with-volunteers-for-salesforce">Mass Emailing Volunteers with Volunteers for Salesforce</a></li>
          <li><a href="#creating-email-templates">Creating Email Templates</a></li>
          </ul></li>
          <li><a href="#building-the-docs">Building the Docs</a></li>
          </ul></li>
          </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        
<h1 id="foodforthought-app-continuation-guide">FoodForThought App Continuation Guide</h1>
<p>This is a development guide for the FoodForThought volunteer organization app. It will walk you through basic setup of the development environment, basic knowledge about the frameworks and tools we used, and the solved/unsolved problems we've run into.</p>
<h2 id="getting-started">Getting Started</h2>
<h3 id="prerequisites">Prerequisites</h3>
<p>You'll need to install node.js and ionic to get started with our app. Node.js can be downloaded for your operating system <a href="https://nodejs.org/en/" title="Node.js">here.</a></p>
<p>Ionic can then be installed by running the following in your terminal:</p>
<pre><code>npm install -g cordova ionic</code></pre>
<p><strong>Note: This app was created using ionic v1. While you don't have to do anything during install to specify that you;re using v1, you will need to make sure you reference the v1 docs, and not v2.</strong></p>
<p>In order to build the app for Android and iOS, you will need to follow the <a href="https://cordova.apache.org/docs/en/6.x/guide/platforms/android/" title="Android Platform Guide">Android</a> and <a href="https://cordova.apache.org/docs/en/6.x/guide/platforms/ios/" title="iOS Platform Guide">iOS</a> platform guides respectively.</p>
<h3 id="installing">Installing</h3>
<p>Clone the FoodForThought app git repository.</p>
<pre><code>git clone https://github.com/DJW0519/SrProjectFoodForThought</code></pre>
<p>Run the app in your web browser to verify that it works. Make sure you are in the &quot;FoodForThought&quot; folder.</p>
<pre><code>cd SrProjectFoodForThought/FoodForThought
ionic serve</code></pre>
<p>You should see the following screen on startup.</p>
<p>To build and emulate for iOS, run</p>
<pre><code>ionic build ios
ionic emulate ios</code></pre>
<p>To build and emulate for Android, run</p>
<pre><code>ionic build android
ionic emulate android</code></pre>
<p>Make sure you've followed the guides for each platform before attempting to build and emulate!</p>
<h2 id="front-end-information">Front End Information</h2>
<h3 id="ionic-file-structure">Ionic file structure</h3>
<p>The different screens of the app are each their own html file located in the templates folder.</p>
<pre><code>SrProjectFoodForThought/FoodForThought/www/templates</code></pre>
<p>Each screen also has a controller associated with it, which controls how it behaves. All the controllers are defined in controllers.js</p>
<pre><code>SrProjectFoodForThought/FoodForThought/www/js/controllers.js</code></pre>
<p>These two are linked in the stateprovider, which is located in app.js</p>
<pre><code>SrProjectFoodForThought/FoodForThought/www/js/app.js</code></pre>
<p>When making a new screen, you'll want to create an html template for it, add a controller for it in controllers.js, and then define both of them in app.js</p>
<p>Since back-end functionality for the Admin tabs was not completed, the functions and local storage takes place in services.js.</p>
<pre><code>SrProjectFoodForThought/FoodForThought/www/js/services.js</code></pre>
<h3 id="ionic-plugins">Ionic Plugins</h3>
<p>We installed a few plugins on top of ionic. There is no need to reinstall them, but it may be helpful to reference their docs.</p>
<h4 id="ionic-filter-bar">Ionic Filter Bar</h4>
<p>This is used in the admin checkin screen to search for volunteers from a list. You can find the docs <a href="https://github.com/djett41/ionic-filter-bar" title="Ionic Filter Bar Github">here.</a></p>
<h4 id="ngstorage">ngStorage</h4>
<p>This plugin is used to handle local storage. Specifically, we used it to store user credentials and which user is currently logged in. You can find the docs <a href="https://github.com/gsklee/ngStorage" title="ngStorage Github">here.</a></p>
<p>Users can be found in <span class="math inline"><em>s</em><em>c</em><em>o</em><em>p</em><em>e</em>.</span>storage.users. The email of the current user is found at <span class="math inline"><em>s</em><em>c</em><em>o</em><em>p</em><em>e</em>.</span>storage.currentUser. You can access a particular user by using their email as the key. So, the currently logged in user's info can be accessed through the following:</p>
<pre><code>$scope.$storage.users[$scope.$storage.currentUser]</code></pre>
<h3 id="partially-completed-features">Partially Completed Features</h3>
<h4 id="geolocation">Geolocation</h4>
<p>We've started working on checking people when they arrive at a volunteer location. We've implemented a basic example that returns your current lattitude and longitude using the Cordova Geolocation Plugin. You can play with it in the 'Geolocation' git branch.</p>
<pre><code>git checkout Geolocation</code></pre>
<p>You then need to manually navigate to the geolocation test page in your browser.</p>
<pre><code>localhost:8100/#/geo</code></pre>
<p>You can then press &quot;F12&quot; to open the developer console (on chrome), and you should see your current latitude.</p>
<p>The controller for the geolocation test page is named 'GeoCtrl'</p>
<p>This feature needs to wait until the time of a volunteer's shift, then start checking if they are within a certain radius of a volunteer location (which would be set by an admin under 'manage locations'.) If the volunteer entered that radius within a short time after the shift started, they would be checked in for that shift.</p>
<h4 id="settings-screen">Settings Screen</h4>
<h5 id="logout">Logout</h5>
<p>The settings screen currently has a &quot;Logout&quot; button. This needs to set <span class="math inline"><em>s</em><em>c</em><em>o</em><em>p</em><em>e</em>.</span>storage.currentUser to null and redirect to he welcome screen.</p>
<h5 id="automatic-check-in">Automatic Check In</h5>
<p>Once geolocation is implemented, this toggle switch needs to be combined with &quot;location services&quot; and should prompt the user to enable gps for the app, and enable automatic check in.</p>
<h2 id="features-needing-back-end-support">Features Needing Back End Support</h2>
<p>There are some features that are entirely implemented on the front end, but need implementation on the back end in order to function. These are mostly admin features.</p>
<h3 id="creating-notifications">Creating Notifications</h3>
<p>Notifications can be created in the admin section of the app, but they are only stored locally; they are not distributed to volunteers. For this to function, there needs to be a place in Salesforce to store the notifications, and a way to retrieve the notifications from Salesforce on the app.</p>
<h3 id="creating-locationsshifts">Creating Locations/Shifts</h3>
<p>New locations and volunteer times can be created in the admin section of the app, but doing so does not create new shifts in Salesforce. Locations are okay to be stored locally, (though it isn't necessarily ideal) but volunteer times need to be stored in Salesforce, and retrieved to populate the shifts on the home screen.</p>
<h3 id="checking-in-volunteers-as-admin">Checking in Volunteers as Admin</h3>
<p>Given a list of volunteers, an admin can move them from a &quot;Unchecked&quot; list to a &quot;Checked in&quot; list locally in the app. This feature needs to be able to pull a list of volunteers for a given shift from Salesforce, and needs to be able to check in each volunteer through Salesforce.</p>
<h2 id="back-end-information">Back End Information</h2>
<p>The Food For Thought app back end is Salesforce, specifically Volunteers for Salesforce. Volunteers for Salesforce is a package that is install on your Salesforce instance. Once installed Volunteers for Salesforce can manage the volunteers, jobs, shifts, and hours. Volunteer for Salesforce can also track and create reports on all the data that is generated from volunteer’s events and shifts. Basically, the majority of the back end is utilizing the Volunteers for Salesforce package and having the Food For Thought app interface with it.</p>
<p>This is where we ran into our biggest problem that we unfortunately were not able to implement a viable working solution. We were not able to get our Food for Thought app to interface with the Volunteers for Salesforce package at all. We ran into a lot of problems, but we also learned a few things that hopefully can provide you with the knowledge to solve these problems going forward.</p>
<p>This portion of the guide will cover what we learned and what problems we encountered on the back end.</p>
<h3 id="installing-volunteers-for-salesforce-package-for-salesforce">Installing Volunteers for Salesforce Package For Salesforce</h3>
<ul>
<li>Salesforce Classic and Lighting Experience can be switched by clicking on the username and selecting the appropriate option. All instructions are written for Salesforce Classic.</li>
<li>Once logged into Salesforce.com, click on the blue “Site.com” button.</li>
<li>Select &quot;AppExchange&quot; from the popup menu of “Site.com”.</li>
<li>On the Apps search bar enter “Volunteer for Salesforce”.</li>
<li>Find and select the Volunteers for Salesforce app.</li>
<li>Click the green &quot;Get It Now&quot; button.</li>
<li>Select &quot;Log in to the AppExchange Use your Salesforce credentials&quot;.</li>
<li>Volunteers for Salesforce can be either be install in production or Sandbox environment. Select &quot;Install in production&quot; option.</li>
<li>Click on the 'I have read and agree to the terms and conditions&quot; and click the blue &quot;Confirm and Install!&quot; button.</li>
<li>Select &quot;Install for All Users&quot; and select on the blue &quot;install&quot; button.</li>
</ul>
<h3 id="configuring-volunteers-for-salesforce">Configuring Volunteers for Salesforce</h3>
<ul>
<li>Once Volunteers for Salesforce is installed, return to your Salesforce homepage and click on setup tab which is next to your username.</li>
<li>On the left hand side of the screen under the &quot;Build&quot; option, click on the &quot;Create&quot; drop down button.</li>
<li>In the drop down menu of Create select and click Apps.</li>
<li>Click on edit of the Volunteer App Label.</li>
<li>Modify the Selected Tabs list to include:</li>
</ul>
<p>       Home <br>        Volunteers Help Volunteers Wizard <br>        Volunteer Jobs <br>        Shift Calendar <br>        Find Volunteers <br>        Leads <br>        Contacts <br>        Campaigns <br>        Reports <br>        Dashboards</p>
<ul>
<li>Click save when completed.</li>
<li>Click on the plus button next to Home and Chatter on the top bar of Salesforce.</li>
<li>Click on the Orange “Customize My tabs” button.</li>
<li>Modify the Selected Tab list to include:</li>
</ul>
<p>       Home <br>        Volunteers Help Volunteers Wizard <br>        Volunteer Jobs <br>        Shift Calendar <br>        Find Volunteers <br>        Leads <br>        Contacts <br>        Campaigns <br>        Reports <br>        Dashboards</p>
<ul>
<li>These tabs can be added selecting the appropriate name and clicking the add button.</li>
<li>Click save when complete.</li>
<li>These tabs should now be on the top bar of Salesforce.</li>
</ul>
<h3 id="mass-emailing-volunteers-with-volunteers-for-salesforce">Mass Emailing Volunteers with Volunteers for Salesforce</h3>
<p><strong>1. Under the Volunteer Jobs tab</strong> - Click the Volunteer Jobs tab. - Select all jobs or specific jobs in the View: field and click on the Go! Button. - Select the hyperlink under Volunteer Job Name or hyperlink under the Select the Campaign (Choosing the hyperlink under the Campaign will select all users that are associated with the campaign). - Depending on the selection of the previous action the next screen will be the job detail page or the Campaign detail page. - Click on the Mass Email Volunteers tab. - Complete the requested fields:</p>
<p>     <strong>From</strong> – selecting who the email is from. <br>      <strong>Email volunteers with Status</strong> - status filter field. <br>      <strong>Include Contacts only once</strong> – selecting this will send one email to each unique contact, leaving this field unchecked will <br>      email each contact for very hours on a job or shift. <br>      <strong>Log an Activity for each email</strong> – selecting this will log the activity on the contact’s record. <br>      <strong>Template Based on Object</strong> – select the object field that will be populated on selected email template (Object and Email <br>      template should match each other). <br>      <strong>Email Template</strong> – select created email template.</p>
<ul>
<li>Once selection has been made click on the blue send button on the upper right corner.</li>
</ul>
<p><strong>2. Under the Shift Calendar tab</strong> - Click the Shift Calendar tab. - Select the Job shift on the Calendar. - Click on the Mass Email Volunteers tab. - Complete the requested fields:</p>
<p>     <strong>From</strong> – selecting who the email is from. <br>      <strong>Email volunteers with Status</strong> - status filter field. <br>      <strong>Include Contacts only once</strong> – selecting this will send one email to each unique contact, leaving this field unchecked will <br>      email each contact for very hours on a job or shift. <br>      <strong>Log an Activity for each email</strong> – selecting this will log the activity on the contact’s record. <br>      <strong>Template Based on Object</strong> – select the object field that will be populated on selected email template (Object and Email <br>      template should match each other).      <strong>Email Template</strong> – select created email template.</p>
<ul>
<li>Once selection has been made click on the blue send button on the upper right corner.</li>
</ul>
<h3 id="creating-email-templates">Creating Email Templates</h3>
<ul>
<li>Select on the username in the upper right corner</li>
<li>Select My Setting on the pop-up window</li>
<li>Select the Email tab on the left side</li>
<li>Under the drop down option of the email tab select email templates</li>
<li>Select “New Template” button to create a new template or select the premade Salesforce template. The premade Salesforce template can be edited by clicking on the edit button.</li>
</ul>
<h2 id="building-the-docs">Building the Docs</h2>
<p>The developer guide (this document) and the user guide are both written in markdown, and then rendered to a styled html document using pandoc.</p>
<p>Follow the instructions <a href="http://pandoc.org/installing.html" title="Pandoc Installation Guide">here</a> for installing pandoc for your operating system.</p>
<p>Once you have pandoc installed, navigate to the documentation folder.</p>
<pre><code>SrProjectFoodForThought/docs</code></pre>
<p>Then, convert the markdown files to html.</p>
<pre><code>pandoc devGuide.md --template toc-sidebar.html --toc -B nav -o devGuide.html
pandoc UserGuide.md --template toc-sidebar.html --toc -B nav -o UserGuide.html</code></pre>
<p>Make sure the &quot;js&quot;, &quot;css&quot;, and &quot;images&quot; folders are all in the same directory as the html documents.</p>
        </div>
      </div>
    </div>
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="https://maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"></script>
    <script>
        //document.getElementById('sidebar').getElementsByTagName('ul')[0].className += "nav nav-sidebar";
        
        /* ajust the height when click the toc
           the code is from https://github.com/twbs/bootstrap/issues/1768
        */
        var shiftWindow = function() { scrollBy(0, -50) };
        window.addEventListener("hashchange", shiftWindow);
        function load() { if (window.location.hash) shiftWindow(); }
        
        /*add Bootstrap styles to tables*/
        var tables = document.getElementsByTagName("table");
        for(var i = 0; i < tables.length; ++i){
            tables[i].className += "table table-bordered table-hover";
        }
    </script>
  </body>
</html>
